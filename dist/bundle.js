(()=>{"use strict";function e(e,n){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return u=e.done,e},e:function(e){l=!0,c=e},f:function(){try{u||null==o.return||o.return()}finally{if(l)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n,o,r,a,c,u,l,i,s,d,m,v,f,p,h;f=document.querySelector("#timer-hours"),p=document.querySelector("#timer-minutes"),h=document.querySelector("#timer-seconds"),setInterval((function(){var e,t,n,o,r,a,c=(n=((e=new Date("19 march 2021 20:47").getTime())-(t=(new Date).getTime()))/1e3,o=Math.floor(n%60),r=Math.floor(n/60%60),a=Math.floor(n/60/60%24),Math.floor(n/60/60/24),e>=t?{timeRemaining:n,hours:a,minutes:r,seconds:o}:{seconds:"0",minutes:"0",hours:"0",day:"0"});f.textContent=c.hours<10?"0"+c.hours:c.hours,p.textContent=c.minutes<10?"0"+c.minutes:c.minutes,h.textContent=c.seconds<10?"0"+c.seconds:c.seconds}),1e3),d=document.querySelector(".menu"),m=document.querySelector("menu"),v=function(){m.classList.toggle("active-menu")},d.addEventListener("click",(function(e){e.target.closest(".menu").classList.contains("menu")&&v()})),m.addEventListener("click",(function(e){var t=e.target;t.classList.contains("close-btn")&&v(),t.closest("LI")&&v()})),a=document.querySelector(".popup"),c=document.querySelectorAll(".popup-btn"),u=document.querySelector(".popup-content"),l=document.documentElement.clientWidth,i=50,s=function e(){i++,u.style.top=i+"px",i<150&&setTimeout(e,5)},window.addEventListener("resize",(function(){l=document.documentElement.clientWidth}),!1),c.forEach((function(e){e.addEventListener("click",(function(){a.style.display="block",l>768?s():u.style.top="none"}))})),a.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?(a.style.display="none",u.style.top=50,i=50):(t=t.closest(".popup-content"))||(a.style.display="none",u.style.top=50,i=50)})),n=document.querySelector(".service-header"),o=n.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab"),n.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&o.forEach((function(e,n){e===t&&function(e){for(var t=0;t<r.length;t++)e===t?(o[t].classList.add("active"),r[t].classList.remove("d-none")):(o[t].classList.remove("active"),r[t].classList.add("d-none"))}(n)}))})),function(){for(var e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),n=document.querySelector(".portfolio-dots"),o=0;o<e.length;o++){var r=document.createElement("li");r.classList.add("dot"),n.append(r)}var a=document.querySelectorAll(".dot");a[0].classList.add("dot-active");var c,u=0,l=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},s=function(){l(e,u,"portfolio-item-active"),l(a,u,"dot-active"),++u>=e.length&&(u=0),i(e,u,"portfolio-item-active"),i(a,u,"dot-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;c=setInterval(s,e)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".portfolio-btn, .dot")&&(l(e,u,"portfolio-item-active"),l(a,u,"dot-active"),n.matches("#arrow-right")?u++:n.matches("#arrow-left")?u--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(u=t)})),u>=e.length&&(u=0),u<0&&(u=e.length-1),i(e,u,"portfolio-item-active"),i(a,u,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(2e3)}(),function(){for(var e=document.querySelectorAll(".command__photo"),t=function(t){var n=e[t].src;e[t].addEventListener("mouseenter",(function(e){e.target.src=e.target.dataset.img})),e[t].addEventListener("mouseleave",(function(e){e.target.src=n}))},n=0;n<e.length;n++)t(n)}(),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),u=document.querySelectorAll(".calc-item"),l=function(e){u[e].addEventListener("input",(function(t){t.target.value=u[e].value.replace(/\D/g,"")}))},i=1;i<u.length;i++)l(i);var s=function(){var t=0,u=1,l=1,i=n.options[n.selectedIndex].value,s=+o.value;a.value>1&&(u+=(a.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),i&&s&&(t=e*i*s*u*l),c.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&s()}))}(100),function(){for(var t=document.querySelectorAll("form"),n=function(e){return e.replace(/-+/g,"-").replace(/ +/g," ").replace(/^ +/gm,"").replace(/^-/g,"").replace(/-$/g,"")},o=function(e){switch(e.name){case"user_name":e.value=e.value.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),e.value=n(e.value);break;case"user_email":e.value=n(e.value).toLowerCase();break;case"user_phone":e.value=n(e.value);break;case"user_message":e.value=e.value.charAt(0).toUpperCase()+e.value.toLowerCase().slice(1),e.value=n(e.value)}},r=function(e){"user_name"===e.name&&(e.value=e.value.replace(/[^а-я\s-]/gi,"")),"user_email"===e.name&&(e.value=e.value.replace(/[^a-z.@\-_*'!~]/gi,"")),"user_phone"===e.name&&(e.value=e.value.replace(/[^0-9()-]/gi,""))},a=0;a<t.length;a++){var c,u=e(t[a].elements);try{var l=function(){var e=c.value;"BUTTON"!==e.tagName&&(e.addEventListener("input",(function(){r(e)})),e.addEventListener("blur",(function(){o(e)})))};for(u.s();!(c=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}t[a].addEventListener("submit",(function(e){e.preventDefault()}))}}(),function(){var e=document.querySelectorAll("form"),t=document.createElement("div");t.style.cssText="font-size: 2rem;",t.style.color="red";for(var n=function(n){e[n].addEventListener("submit",(function(o){o.preventDefault(),e[n].appendChild(t),console.log(e[n]),t.textContent="Загрузка...";var a=new FormData(e[n]),c={};a.forEach((function(e,t){c[t]=e})),r(c).then((function(e){if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо! Мы скоро с вами свяжемся!",document.querySelectorAll("input, textarea").forEach((function(e){return e.value=""})),setTimeout((function(){return t.remove()}),4e3)})).catch((function(e){t.textContent="Что то пошло не так...",console.log(e),document.querySelectorAll("input, textarea").forEach((function(e){return e.value=""})),setTimeout((function(){return t.remove()}),4e3)}))}))},o=0;o<e.length;o++)n(o);var r=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)})};r()}()})();